package com.saleshero.application.service;

import static org.junit.Assert.assertTrue;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;
import org.mockito.Mock;
import org.mockito.Mockito;

import com.saleshero.service.WriteFileService;

public class TestWriteFileService {
	@Mock
    private WriteFileService writeFileService;

    @Mock
    private BufferedReader reader;

    @Mock
    private File file;
    
    @Rule
    public ExpectedException exception = ExpectedException.none(); 
    
    @Test
    public void testWritingAFile() throws FileNotFoundException
    {
    	List<Integer> inputvalues = new ArrayList<Integer>();
    	inputvalues.add(12);
    	inputvalues.add(2324);
    	inputvalues.add(23432);
    	inputvalues.add(1);
    	inputvalues.add(353454);
    	inputvalues.add(-12321);
    	inputvalues.add(0);
    	List<Integer> values = inputvalues;
    	Collections.sort(values);
        List<Integer> resvalue = writeFileService.writeRecordsToFile(inputvalues);
        assertTrue(resvalue.size() == values.size() && resvalue == values);
    }
    
   @Test
    public void testNumberCountWhileWrite() throws FileNotFoundException
    {
	   List<Integer> inputvalues = new ArrayList<Integer>();
   		inputvalues.add(12);
   		inputvalues.add(2324);
   		inputvalues.add(23432);
   		inputvalues.add(1);
   		inputvalues.add(353454);
   		inputvalues.add(-12321);
   		inputvalues.add(0);
   		List<Integer> values = inputvalues;
   		Collections.sort(values);
   		List<Integer> resvalue = writeFileService.writeRecordsToFile(inputvalues);
        assertTrue(resvalue.size() == values.size());
    }
}
