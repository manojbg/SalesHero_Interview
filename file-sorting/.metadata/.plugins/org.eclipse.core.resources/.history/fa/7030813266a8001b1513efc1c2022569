package com.saleshero.application.service;

import com.saleshero.service.ReadFileService;
import org.junit.Assert;
import org.junit.Test;
import org.junit.jupiter.api.function.Executable;
import org.junit.rules.ExpectedException;
import org.junit.jupiter.api.Assertions;
import org.junit.runner.RunWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.mockito.runners.MockitoJUnitRunner;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.List;

@RunWith(MockitoJUnitRunner.class)
public class TestReadFileService {

    @InjectMocks
    private ReadFileService readFileService;

    @Mock
    private BufferedReader reader;

    @Mock
    private File file;
    
    @Test
    public void testReadingAFile() throws IOException
    {
    	file = new File("C:\\Users\\609307401\\Desktop\\sort.txt");
    	reader = new BufferedReader(new FileReader("C:\\Users\\609307401\\Desktop\\sort.txt"));
        Mockito.when(reader.lines()).thenReturn(Mockito.anyObject());
        Mockito.when(file.exists()).thenReturn(true);

        List<Integer> values = readFileService.readFileValues("C:\\Users\\609307401\\Desktop\\sort.txt");
    }
    
    @Test(expected = FileNotFoundException.class)
    public void testExceptionThrownForReadingFile() throws IOException {
        //BufferedReader bufferedReader = Mockito.mock(BufferedReader.class);
        Assertions.assertThrows(FileNotFoundException.class, () -> readFileService.readFileValues(Mockito.anyString()));
        //Assertions.assertEquals("File not found to read values : ", exception.getMessage());
    }
    
  /* @Test
    private void testNumberCountWhileRead()
    {

    }

    @Test
    private void testWritingToFile()
    {

    }

    @Test
    private void testExceptionThrownForWritingFile()
    {

    }

    @Test
    private void testNumberCountWhileWrite()
    {

    }*/
}
